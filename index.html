
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <title>Tiny Battle Simulator</title>
    <script>
      (function setViewportVars(){
        function apply(){
          try {
            var vh = (window.visualViewport ? window.visualViewport.height : window.innerHeight) * 0.01;
            var vw = (window.visualViewport ? window.visualViewport.width  : window.innerWidth)  * 0.01;
            document.documentElement.style.setProperty('--vh', vh + 'px');
            document.documentElement.style.setProperty('--vw', vw + 'px');
          } catch (e) {}
        }
        apply();
        window.addEventListener('resize', apply);
        window.addEventListener('orientationchange', apply);
        if (window.visualViewport) {
          window.visualViewport.addEventListener('resize', apply);
        }
      })();
    </script>
    <script>
      (function(){
        function showError(msg){
          try{
            var el=document.getElementById('fatal-js-error');
            if(!el){
              el=document.createElement('pre');
              el.id='fatal-js-error';
              el.style.cssText='position:fixed;inset:0;z-index:999999;background:#111;color:#f66;margin:0;padding:12px;font-family:monospace;white-space:pre-wrap;overflow:auto';
              document.body.appendChild(el);
            }
            el.textContent='JS Error: '+msg;
            console.error('[BOOT-ERROR]', msg);
          }catch(_){}
        }
        window.addEventListener('error', function(e){ showError(e.error? (e.error.stack||e.error.message||e.error): (e.message||e)); });
        window.addEventListener('unhandledrejection', function(e){ showError(e.reason? (e.reason.stack||e.reason.message||e.reason): e); });
        console.log('[BOOT] index.html loaded');
      })();
    </script>
  </head>
  <body class="fixed inset-0 overflow-hidden">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
